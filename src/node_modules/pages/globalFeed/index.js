import React, { useEffect } from "react";
import useFetch from "hooks/useFetch";
import Post from "components/post";
import TheTitle from "components/atoms/theTitle";

const GlobalFeed = () => {
  const [{ response, isLoading, error }, doFetch] = useFetch("/posts");

  useEffect(() => {
    doFetch();
  }, [doFetch, 1]);

  return (
    <main className="px-4 py-5 container home-page">
      <TheTitle name="Home Page" />
      {!isLoading && response && <Post posts={response.data} />}
    </main>
  );
};

export default GlobalFeed;
